# Snake

**Ана Стефановска**  
**Марија Гашоска**

## Објаснување на проблемот

Оваа проектна задача претставува имплементација на класичната игра „Змија“. Играчот управува со змија која се движи на табла и јаде храна за да расте. Целта е да се соберат што повеќе поени избегнувајќи отровно јаболко, удар во ѕидот од таблата или во сопственото тело.

## Функционалности и упатство

- **Режими на игра:** Пред започнување на играта можете да изберете меѓу три режими (Standard, Borderless, и Poisoned Apple).
- **Старт на играта:** Притиснете било кое копче за да ја започнете играта.
- **Движење на змијата:** Користете ги стрелките на тастатурата за да ја движите змијата.
- **Собирање храна:** Змијата ќе расте и ќе добиете поени кога ќе изеде храна.
- **Избегнувајте отровни јаболки, удар во ѕидови или удар во сопственото тело.**

## Опис на решението

### Форми

- **SnakeForm:**  
  Ги обработува сите настани и ја контролира играта. Вклучува тајмер за анимирање на змијата и методи за цртање на таблата, змијата, храната, и поените.

- **GameOverForm:**  
  Прикажува прозорец со информација за резултатот на играта и овозможува повторување на играта или излез од истата.

- **ModeSelectionForm:**  
  Овозможува избор на режим пред започнување на играта.

### Класи

- **GridValue:**  
  Енумерација која ги претставува можните состојби на една позиција од таблата (Empty, Snake, Food, Poison, Out).

- **GameMode:**  
  Енумерација која ги претставува можните режими на игра (Standard, Borderless, Poisoned Apple).

- **Position:**  
  Класа која претставува позиција на таблата со ред и колона.

- **Direction:**  
  Класа која ги претставува можните правци на движење на змијата (горе, доле, лево и десно).

- **State:**  
  Класа која ја чува состојбата на играта, вклучувајќи ја таблата, позициите на змијата, правецот на движење, поените и други информации.

## Опис на функција од изворниот код

Методот `Move` е одговорен за движењето на змијата. Исто така се справува со јадењето храна, удирањето во ѕид, или телото на змијата, како и управувањето со условите за крај на играта.

```csharp
public void Move() {
    // Чекор 1: Ажурирање на насоката ако има било какви промени во листата „directionChanges“.
    if (directionChanges.Count > 0) {
        Direction = directionChanges.First.Value; // Земање на следната насоката од листата.
        directionChanges.RemoveFirst(); // Отстранување на обработената насоката од листата.
    }
    // Чекор 2: Определување на новата позиција на главата врз основа на тековната насока.
    Position newHead = HeadPosition().ChangePosition(Direction);
    // Чекор 3: Доколку се игра во режим каде нема ѕидови новата позиција на главата се поставува на спротивната страна на таблата.
    if (Mode == GameMode.Borderless) {
        newHead = GetWrappedPosition(newHead);
    }
    // Чекор 4: Определување што има на полето каде што е новата позиција на главата.
    GridValue hit = WhatWasHit(newHead);
    // Чекор 5: Обработка на различни сценарија врз основа на тоа што било погодено.
    if (hit == GridValue.Out || hit == GridValue.Snake) {
        // Сценарио 1: Змијата удира во ѕидот (во стандарден режим) или во самата себе.
        GameOver = true; // Крај на играта.
    } else if (hit == GridValue.Empty) {
        // Сценарио 2: Змијата се движи во празно поле.
        RemoveTail(); // Отстранување на опашот на змијата за да изгледа како да змијата е поместена.
        AddHead(newHead); // Позиционирање на главата на змијата на новото поле.
    } else if (hit == GridValue.Food) {
        // Сценарио 3: Змијата изела јаболко.
        AddHead(newHead); // Позиционирање на главата на змијата на новото поле.
        Score++; // Зголемување на резултатот.
        AddFood(); // Поставување на нова храна во мрежата.
        // Ако режимот на игра е Poisoned Apple се додава ново отровно јаболко на таблата.
        if (Mode == GameMode.PoisonedApple) {
            AddPoison();
        }
    } else if (hit == GridValue.Poison) {
        // Сценарио 4: Змијата јаде отровно јаболко.
        GameOver = true; // Крај на играта.
    }
}
`````
# Screenshots

- **Екран за избор на режим**  
  ![mode](https://github.com/anastefanovska/Snake/assets/168287719/1c5e7937-d190-47d7-9ee0-03234a37c226)

- **Почетен екран**  
  Се прикажува порака "PRESS ANY KEY TO START".  
  ![start](https://github.com/anastefanovska/Snake/assets/168287719/e84040a3-e09f-4be4-ae51-41d898ba0ed9)

- **Играње на играта**  
  Змијата се движи на таблата.  
  ![game](https://github.com/anastefanovska/Snake/assets/168287719/8361fd4a-08e6-4fac-bfa1-6cbe4c9a34e3)

- **Екран за крај на игра**  
  Прикажува моментален и најдобар до сега резултат.  
  ![end](https://github.com/anastefanovska/Snake/assets/168287719/8fed828f-f3aa-4f23-a13b-a4e745a789b9)



